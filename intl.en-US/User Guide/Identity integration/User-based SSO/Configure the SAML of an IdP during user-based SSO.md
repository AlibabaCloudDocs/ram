# Configure the SAML of an IdP during user-based SSO {#concept_gsy_gw3_sfb .concept}

This topic describes how to configure the SAML of an identity provider \(IdP\) during user-based SSO. You can configure Alibaba Cloud as a trusted SAML service provider \(SP\), and configure an SAML assertion in the IdP.

## Configure Alibaba Cloud as a trusted SAML SP {#section_ehv_hrj_sfb .section}

1.  Obtain the SAML SP metadata URL from Alibaba Cloud:
    1.  Log on to the [RAM console](https://ram.console.aliyun.com/).
    2.  In the left-side navigation pane, choose **SSO**.
    3.  On the **User-based SSO** tab, obtain the SAML SP metadata URL.
2.  Create an SAML SP in the target IdP and configure the SAML SP metadata URL of Alibaba Cloud.

    **Note:** If your IdP does not support URL configuration, click the URL next to **SAML Service Provider Metadata URL** to download an XML file. Then, when you create an SAML SP, you can upload the XML file.


## Configure an SAML assertion in the IdP {#section_wyp_hrj_sfb .section}

Alibaba Cloud uses a User Principal Name \(UPN\) to locate a RAM user. Therefore, the SAML response generated by the IdP must contain the UPN of the RAM user. Alibaba Cloud resolves the NameID node in the SAML assertion, then matches the NameID node to the UPN of the corresponding RAM user, so that user based federation can be implemented.

If you configure the SAML assertion issued by the IdP, you must map the UPN of the target RAM user to the NameID in the SAML assertion.

For more information about how to configure an SAML assertion in an IdP, see [Implement user-based SSO by using AD FS](intl.en-US/User Guide/Identity integration/User-based SSO/Implement user-based SSO by using AD FS.md#).

